<!DOCTYPE html>
<html lang=zh>
<head>
    <meta charset="utf-8">
    
    <title>Mysql数据库基础 | walsky&#39;s blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="Mysql 启动和创建数据库sql语句注释：--表示单行注释/**/表示多行注释Markdown书写格式不对，注意缩进问题
1、ubuntu下打开Mysql服务，并使用root用户登录sudo service mysql start(也可用来检测系统是否安装mysql)mysql -u root
检测是否安装成功：    netstat -tap |grep mysql这句话的意思就是查看监听服务">
<meta property="og:type" content="article">
<meta property="og:title" content="Mysql数据库基础">
<meta property="og:url" content="http://yoursite.com/2016/08/20/Mysql数据库基础/index.html">
<meta property="og:site_name" content="walsky's blog">
<meta property="og:description" content="Mysql 启动和创建数据库sql语句注释：--表示单行注释/**/表示多行注释Markdown书写格式不对，注意缩进问题
1、ubuntu下打开Mysql服务，并使用root用户登录sudo service mysql start(也可用来检测系统是否安装mysql)mysql -u root
检测是否安装成功：    netstat -tap |grep mysql这句话的意思就是查看监听服务">
<meta property="og:image" content="http://d.hiphotos.baidu.com/baike/c0%3Dbaike92%2C5%2C5%2C92%2C30/sign=96e2f04307087bf469e15fbb93ba3c49/8435e5dde71190effdb15dd7cb1b9d16fdfa6074.jpg">
<meta property="og:updated_time" content="2016-08-24T01:22:43.875Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Mysql数据库基础">
<meta name="twitter:description" content="Mysql 启动和创建数据库sql语句注释：--表示单行注释/**/表示多行注释Markdown书写格式不对，注意缩进问题
1、ubuntu下打开Mysql服务，并使用root用户登录sudo service mysql start(也可用来检测系统是否安装mysql)mysql -u root
检测是否安装成功：    netstat -tap |grep mysql这句话的意思就是查看监听服务">
<meta name="twitter:image" content="http://d.hiphotos.baidu.com/baike/c0%3Dbaike92%2C5%2C5%2C92%2C30/sign=96e2f04307087bf469e15fbb93ba3c49/8435e5dde71190effdb15dd7cb1b9d16fdfa6074.jpg">
    

    

    

    <link rel="stylesheet" href="/vendor/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/vendor/open-sans/styles.css">
    <link rel="stylesheet" href="/vendor/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/vendor/jquery/2.1.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/vendor/fancybox/jquery.fancybox.css">
    
    
    
    

</head>
<body>
    <div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/" id="logo">
                <i class="logo" style="background-image: url(css/images/mylogo.gif)"></i>
                <span class="site-title">walsky&#39;s blog</span>
            </a>
            <nav id="main-nav">
                
                    <a class="main-nav-link" href="/.">

                     <i class="fa fa-home"></i>
                   Home</a>
                
                    <a class="main-nav-link" href="/archives">

                     <i class="fa fa-lightbulb-o"></i>
                   Archives</a>
                
                    <a class="main-nav-link" href="/categories">

                     <i class="fa fa-sort-alpha-asc"></i>
                   Categories</a>
                
                    <a class="main-nav-link" href="/tags">

                     <i class="fa fa-tag"></i>
                   Tags</a>
                
                    <a class="main-nav-link" href="/about">

                     <i class="fa fa-paper-plane"></i>
                   About</a>
                
            </nav>
            
                
                <nav id="sub-nav">
                    <div class="profile" id="profile-nav">
                        <a id="profile-anchor" href="javascript:;">
                            <img class="avatar" src="/css/images/avatar.jpg" />
                            <i class="fa fa-caret-down"></i>
                        </a>
                    </div>
                </nav>
            
            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜索" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="想要查找什么..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                    <td><a class="main-nav-link" href="/.">Home</a></td>
                
                    <td><a class="main-nav-link" href="/archives">Archives</a></td>
                
                    <td><a class="main-nav-link" href="/categories">Categories</a></td>
                
                    <td><a class="main-nav-link" href="/tags">Tags</a></td>
                
                    <td><a class="main-nav-link" href="/about">About</a></td>
                
                <td>
                    
    <div class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜索" />
    </div>

                </td>
            </tr>
        </table>
    </div>
</header>

        <div class="outer">
            
                

<aside id="profile">
    <div class="inner profile-inner">
        <div class="base-info profile-block">
            <img id="avatar" src="/css/images/avatar.jpg" />
            <h2 id="name">Laiwei</h2>
            <h3 id="title">Developer &amp; life loving</h3>
            <span id="location"><i class="fa fa-map-marker"></i>Beijing, China</span>
            <a id="follow" target="_blank" href="https://github.com/wal139491/">关注我</a>
        </div>
        <div class="article-info profile-block">
            <div class="article-info-block">
                15
                <span>文章</span>
            </div>
            <div class="article-info-block">
                7
                <span>标签</span>
            </div>
        </div>
        
        <div class="profile-block social-links">
            <table>
                <tr>
                    
                    
                    <td>
                        <a href="http://github.com/wal139491/" target="_blank" title="github" class=tooltip>
                            <i class="fa fa-github"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="http://weibo.com/walsky" target="_blank" title="weibo" class=tooltip>
                            <i class="fa fa-weibo"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="http://www.jianshu.com/users/de17c721f02a/latest_articles" target="_blank" title="dribbble" class=tooltip>
                            <i class="fa fa-dribbble"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/atom.xml" target="_blank" title="rss" class=tooltip>
                            <i class="fa fa-rss"></i>
                        </a>
                    </td>
                    
                </tr>
            </table>
        </div>
        
    </div>
</aside>

            
            <section id="main"><article id="post-Mysql数据库基础" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
            Mysql数据库基础
        </h1>
    

                <div class="article-meta">
                    
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2016/08/20/Mysql数据库基础/">
            <time datetime="2016-08-20T02:22:42.938Z" itemprop="datePublished">2016-08-20</time>
        </a>
    </div>


                    
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/数据库概论/">数据库概论</a>
    </div>

                    
                </div>
            </header>
        
        <div class="article-entry" itemprop="articleBody">
        
            
                <div id="toc" class="toc-article">
                <strong class="toc-title">文章目录</strong>
                    <ol class="toc"><li class="toc-item toc-level-5"><a class="toc-link" href="#Mysql-启动和创建数据库"><span class="toc-number">1.</span> <span class="toc-text">Mysql 启动和创建数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1、ubuntu下打开Mysql服务，并使用root用户登录"><span class="toc-number">1.1.</span> <span class="toc-text">1、ubuntu下打开Mysql服务，并使用root用户登录</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2、连接数据库"><span class="toc-number">1.2.</span> <span class="toc-text">2、连接数据库</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#3、-新建数据库"><span class="toc-number">1.3.</span> <span class="toc-text">3、 新建数据库</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#4、-新建数据表"><span class="toc-number">1.4.</span> <span class="toc-text">4、 新建数据表</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#5、数据类型"><span class="toc-number">1.5.</span> <span class="toc-text">5、数据类型</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#6、插入数据"><span class="toc-number">1.6.</span> <span class="toc-text">6、插入数据</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#主键"><span class="toc-number">1.7.</span> <span class="toc-text">主键</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#默认值约束"><span class="toc-number">1.8.</span> <span class="toc-text">默认值约束</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#唯一约束"><span class="toc-number">1.9.</span> <span class="toc-text">唯一约束</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#FOREIGN-KEY"><span class="toc-number">1.10.</span> <span class="toc-text">FOREIGN KEY</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#NOT-NULL"><span class="toc-number">1.11.</span> <span class="toc-text">NOT NULL</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#查询"><span class="toc-number">2.</span> <span class="toc-text">查询</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1-基本select语句"><span class="toc-number">2.1.</span> <span class="toc-text">1.基本select语句</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-AND与OR"><span class="toc-number">2.2.</span> <span class="toc-text">2.AND与OR</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#3-IN和NOT-IN"><span class="toc-number">2.3.</span> <span class="toc-text">3. IN和NOT IN</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#4-通配符"><span class="toc-number">2.4.</span> <span class="toc-text">4. 通配符</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#5-对结果进行排序-DESC-降-ASC-升"><span class="toc-number">2.5.</span> <span class="toc-text">5. 对结果进行排序 DESC(降) ASC(升)</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#6-sql内置函数和计算"><span class="toc-number">2.6.</span> <span class="toc-text">6.sql内置函数和计算</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#7-子查询"><span class="toc-number">2.7.</span> <span class="toc-text">7.子查询</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#8-连接查询"><span class="toc-number">2.8.</span> <span class="toc-text">8.连接查询</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#修改和删除"><span class="toc-number">3.</span> <span class="toc-text">修改和删除</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#删除数据库"><span class="toc-number">3.1.</span> <span class="toc-text">删除数据库</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#重命名一张表"><span class="toc-number">3.2.</span> <span class="toc-text">重命名一张表</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#删除一张表"><span class="toc-number">3.3.</span> <span class="toc-text">删除一张表</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#对一列的修改-既对表结构的修改"><span class="toc-number">3.4.</span> <span class="toc-text">对一列的修改(既对表结构的修改)</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#对表的内容进行修改"><span class="toc-number">3.5.</span> <span class="toc-text">对表的内容进行修改</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#索引"><span class="toc-number">4.</span> <span class="toc-text">索引</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#视图"><span class="toc-number">4.1.</span> <span class="toc-text">视图</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#备份"><span class="toc-number">4.2.</span> <span class="toc-text">备份</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#使用备份文件恢复数据库"><span class="toc-number">4.3.</span> <span class="toc-text">使用备份文件恢复数据库</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#参考链接"><span class="toc-number">5.</span> <span class="toc-text">参考链接</span></a></li></ol>
                </div>
            
            <h5 id="Mysql-启动和创建数据库"><a href="#Mysql-启动和创建数据库" class="headerlink" title="Mysql 启动和创建数据库"></a>Mysql 启动和创建数据库</h5><p><img src="http://d.hiphotos.baidu.com/baike/c0%3Dbaike92%2C5%2C5%2C92%2C30/sign=96e2f04307087bf469e15fbb93ba3c49/8435e5dde71190effdb15dd7cb1b9d16fdfa6074.jpg" alt=""><br>sql语句注释：<br><code>--</code>表示单行注释<br><code>/**/</code>表示多行注释<br><strong>Markdown书写格式不对，注意缩进问题</strong></p>
<h6 id="1、ubuntu下打开Mysql服务，并使用root用户登录"><a href="#1、ubuntu下打开Mysql服务，并使用root用户登录" class="headerlink" title="1、ubuntu下打开Mysql服务，并使用root用户登录"></a>1、ubuntu下打开Mysql服务，并使用root用户登录</h6><p><code>sudo service mysql start</code>(也可用来检测系统是否安装mysql)<br><code>mysql -u root</code></p>
<p>检测是否安装成功：<br>    <code>netstat -tap |grep mysql</code><br>这句话的意思就是查看监听服务进程号<br>    `</p>
<h6 id="2、连接数据库"><a href="#2、连接数据库" class="headerlink" title="2、连接数据库"></a>2、连接数据库</h6><p><code>use mysql_car</code><br>use+[数据库名称] 表示使用某个数据库</p>
<p><code>show tables;</code><br>显示该数据库的各个表名(如果有视图，也会显示)</p>
<h6 id="3、-新建数据库"><a href="#3、-新建数据库" class="headerlink" title="3、 新建数据库"></a>3、 新建数据库</h6><p>  <code>CREATE   DATABASE company</code></p>
<p>虽然Mysql建表语句中不区分大小写，但是一般保留字(关键字)大写，变量小写</p>
<h6 id="4、-新建数据表"><a href="#4、-新建数据表" class="headerlink" title="4、 新建数据表"></a>4、 新建数据表</h6><ol>
<li>use company (连接数据库)</li>
<li>在数据库中新建一张表的格式为：</li>
</ol>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> employee(</span><br><span class="line"><span class="keyword">id</span> <span class="built_in">int</span>(<span class="number">10</span>),</span><br><span class="line"><span class="keyword">name</span> <span class="built_in">char</span>(<span class="number">20</span>),</span><br><span class="line">phone <span class="built_in">int</span>(<span class="number">12</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h6 id="5、数据类型"><a href="#5、数据类型" class="headerlink" title="5、数据类型"></a>5、数据类型</h6><table>
<thead>
<tr>
<th>数据类型</th>
<th>大小(字节)</th>
<th>用途</th>
<th>格式</th>
</tr>
</thead>
<tbody>
<tr>
<td>INT</td>
<td>4</td>
<td>整数</td>
<td></td>
</tr>
<tr>
<td>Float</td>
<td>4</td>
<td>单精度浮点数</td>
<td></td>
</tr>
<tr>
<td>DOUBLE</td>
<td>4</td>
<td>双精度浮点数</td>
<td></td>
</tr>
<tr>
<td>ENUM</td>
<td></td>
<td>单选</td>
<td>ENUM(‘a’,’b’,’c’)</td>
</tr>
<tr>
<td>SET</td>
<td></td>
<td>多选</td>
<td>SET(‘1’,’2’,’3’)</td>
</tr>
<tr>
<td>DATE</td>
<td>3</td>
<td>日期</td>
<td>YYYY-MM-DD</td>
</tr>
<tr>
<td>TIME</td>
<td>3</td>
<td>时间点或持续时间点</td>
<td>HH:MM:SS</td>
</tr>
<tr>
<td>YEAR</td>
<td>1</td>
<td>年份值</td>
<td>HH:MM:SS</td>
</tr>
<tr>
<td>CHAR</td>
<td>0~255</td>
<td>定长字符串</td>
<td></td>
</tr>
<tr>
<td>VARCHAR</td>
<td>0~255</td>
<td>变长字符串</td>
<td></td>
</tr>
<tr>
<td>TEXT</td>
<td>0~65535</td>
<td>长文本数据</td>
</tr>
</tbody>
</table>
<p><strong>CHAR和VARCHAR的区别</strong>: CHAR的长度是固定的，而VARCHAR的长度是可以变化的，比如，存储字符串“abc”，对于CHAR (10)，表示存储的字符将占10个字节(包括7个空字符)，而同样的VARCHAR(12)则只占用3个字节的长度，12只是最大值，当你存储的字符小于12时，按实际长度存储。<br><a id="more"></a><br><strong>ENUM和SET的区别:</strong> ENUM类型的数据的值，必须是定义时枚举的值的其中之一，即单选，而SET类型的值则可以多选。</p>
<h6 id="6、插入数据"><a href="#6、插入数据" class="headerlink" title="6、插入数据"></a>6、插入数据</h6><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> 表名（</span><br><span class="line">列名a,列名b,列名c）<span class="keyword">VALUES</span> (值<span class="number">1</span>,值<span class="number">2</span>,值<span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> employee(<span class="keyword">id</span>,<span class="keyword">name</span>,phone) <span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="string">'周星'</span>,<span class="number">18570631121</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> employee(<span class="keyword">id</span>,<span class="keyword">name</span>) <span class="keyword">VALUES</span>(<span class="number">2</span>,<span class="string">'成都'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> employee <span class="keyword">VALUES</span>(<span class="number">3</span>,<span class="string">'昆哥'</span>,<span class="number">130229456311</span>);</span><br></pre></td></tr></table></figure>
<p>1,3语句相同，如果插入数据完整可以省略<br>2语句不全时该值为NULL<br>除<strong>INT，DOUBLE，FLOAT</strong>值不需要单引号，其他数据需要单引号括起</p>
<p>#####约束<br>约束：通过对表的行和列的数据做出限制，来保证表数据的完整性和唯一性<br>Mysql数据库的约束分类：</p>
<table>
<thead>
<tr>
<th>约束类型：</th>
<th>主键</th>
<th>默认值</th>
<th>唯一</th>
<th>外键</th>
<th>非空</th>
</tr>
</thead>
<tbody>
<tr>
<td>关键字：</td>
<td>PRIMARY KEY</td>
<td>DEFAULT</td>
<td>UNIQUE</td>
<td>FOREIGN KEY</td>
<td>NOT NULL</td>
</tr>
</tbody>
</table>
<h6 id="主键"><a href="#主键" class="headerlink" title="主键"></a>主键</h6><ol>
<li><p>列级定义主键</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> employee(</span><br><span class="line"> <span class="keyword">id</span> <span class="built_in">int</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> PRIMART <span class="keyword">KEY</span> AUTO_INCREMENT,</span><br><span class="line"> <span class="keyword">name</span>  <span class="built_in">char</span>(<span class="number">20</span>),</span><br><span class="line"> phone <span class="built_in">bigint</span>(<span class="number">15</span>)</span><br><span class="line">  )</span><br></pre></td></tr></table></figure>
</li>
<li><p>表级定义主键</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> employee(</span><br><span class="line"> <span class="keyword">id</span> <span class="built_in">int</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>  AUTO_INCREMENT,</span><br><span class="line"> <span class="keyword">name</span>  <span class="built_in">char</span>(<span class="number">20</span>),</span><br><span class="line"> phone <span class="built_in">bigint</span>(<span class="number">15</span>),</span><br><span class="line"> <span class="keyword">CONSTRAINT</span> emp_pk PRIMARY <span class="keyword">KEY</span>(<span class="keyword">id</span>)</span><br><span class="line">  )</span><br></pre></td></tr></table></figure>
</li>
<li><p>复合主键(由表中两列或多列共同标识)</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> employee(</span><br><span class="line"> <span class="keyword">id</span> <span class="built_in">int</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT,</span><br><span class="line"> <span class="keyword">name</span>  <span class="built_in">char</span>(<span class="number">20</span>),</span><br><span class="line"> phone <span class="built_in">bigint</span>(<span class="number">15</span>),</span><br><span class="line"> <span class="keyword">CONSTRAINT</span> emp_py PRIMARY <span class="keyword">KEY</span>(<span class="keyword">id</span>,phone)</span><br><span class="line"></span><br><span class="line">  )</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>emp_py是主键名称(自定义的)</p>
<h6 id="默认值约束"><a href="#默认值约束" class="headerlink" title="默认值约束"></a>默认值约束</h6><p><code>phone bigint(15) 15203768500</code></p>
<p>DEFAULT约束只会在使用INSERT语句时体现出来，<br>INSERT语句中，插入位置没有值，则填充默认值</p>
<h6 id="唯一约束"><a href="#唯一约束" class="headerlink" title="唯一约束"></a>唯一约束</h6><p><strong>UNIQUE</strong>比较简单，它规定一张表中指定的一列的值必须不能有重复值，即这一列每个值都是唯一的。</p>
<p><code>UNIQUE(phone)</code></p>
<p>如果在phone这一列插入相同的值则失败</p>
<h6 id="FOREIGN-KEY"><a href="#FOREIGN-KEY" class="headerlink" title="FOREIGN KEY"></a>FOREIGN KEY</h6><p>FOREIGN KEY既能保证数据完整性，又能体现表之间的关系<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">CONSTRAINT emp_fk FOREIGN KEY(name) REFERENCE Em_info(em_name)</span><br><span class="line"><span class="comment">--name列为外键，参考列为Em_info表的em_name列</span></span><br><span class="line"><span class="comment">/*</span><br><span class="line">这里是多行注释</span><br><span class="line">*/</span></span><br></pre></td></tr></table></figure></p>
<h6 id="NOT-NULL"><a href="#NOT-NULL" class="headerlink" title="NOT NULL"></a>NOT NULL</h6><p>非空约束：<code>name char(20) NOT NULL</code></p>
<p>Mysql中违反非空约束，不会报错只有警告，值为0<br>没有非空约束：空插入，值为NULL<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> employee(<span class="keyword">id</span>,<span class="keyword">name</span>,phone) <span class="keyword">VALUES</span>(<span class="number">3</span>,<span class="number">1586563241</span>)</span><br><span class="line"><span class="comment">--警告 name被非空约束，值为空，表中显示0</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> employee(<span class="keyword">id</span>,<span class="keyword">name</span>,phone) <span class="keyword">VALUES</span>(<span class="number">3</span>,<span class="string">'laiwei'</span>)</span><br><span class="line"><span class="comment">-- INSERT成功 phone为空，因为没有非空约束，表中显示NULL</span></span><br></pre></td></tr></table></figure></p>
<h5 id="查询"><a href="#查询" class="headerlink" title="查询"></a>查询</h5><h6 id="1-基本select语句"><a href="#1-基本select语句" class="headerlink" title="1.基本select语句"></a>1.基本select语句</h6><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> 表名</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">name</span>,age <span class="keyword">from</span> employee <span class="keyword">where</span> <span class="keyword">name</span>=<span class="string">'zhoxing'</span>;</span><br><span class="line"><span class="comment">-- select 要查询的列名 from 表名 where 限制条件</span></span><br></pre></td></tr></table></figure>
<h6 id="2-AND与OR"><a href="#2-AND与OR" class="headerlink" title="2.AND与OR"></a>2.AND与OR</h6><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">name</span>,age <span class="keyword">from</span> employee <span class="keyword">WHERE</span> age&gt;<span class="number">20</span> <span class="keyword">AND</span> age&lt;<span class="number">30</span></span><br><span class="line"> <span class="comment">--筛选出age大于20，且age小于30</span></span><br><span class="line"></span><br><span class="line"> <span class="keyword">SELECT</span> <span class="keyword">name</span>,age <span class="keyword">from</span> employee <span class="keyword">WHERE</span> age&lt;<span class="number">20</span> <span class="keyword">AND</span> age&gt;<span class="number">30</span></span><br><span class="line">  <span class="comment">--筛选出age小于20或者age大于30</span></span><br></pre></td></tr></table></figure>
<p><img src="https://dn-anything-about-doc.qbox.me/MySQL/sql-04-05.png/logoblackfont" alt=""></p>
<p><strong>如果需要包含边界值既age&gt;=20&lt;=3</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">name</span>,age <span class="keyword">from</span> employee <span class="keyword">WHERE</span> age <span class="keyword">BETWEEN</span> <span class="number">20</span> <span class="keyword">AND</span> <span class="number">30</span><span class="string">`;</span></span><br></pre></td></tr></table></figure></p>
<p><img src="https://dn-anything-about-doc.qbox.me/MySQL/sql-04-06.png/logoblackfont" alt=""></p>
<h6 id="3-IN和NOT-IN"><a href="#3-IN和NOT-IN" class="headerlink" title="3. IN和NOT IN"></a>3. IN和NOT IN</h6><p>IN 和NOT IN用来指定在不在一个某个范围内的结果，比如我们要查询在dpt3和dpt4中的结果：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">name</span>,age,dpt <span class="keyword">from</span> employee <span class="keyword">where</span> dpt <span class="keyword">IN</span> (<span class="string">'dpt3'</span>,<span class="string">'dpt4'</span>);</span><br></pre></td></tr></table></figure></p>
<p><img src="https://dn-anything-about-doc.qbox.me/MySQL/sql-04-07.png/logoblackfont" alt=""></p>
<p>NOT IN 查询不在这个序列中的：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">name</span>,age,dpt <span class="keyword">from</span> employee <span class="keyword">where</span> dpt <span class="keyword">NOT</span> <span class="keyword">IN</span> (<span class="string">'dpt3'</span>,<span class="string">'dpt4'</span>);</span><br></pre></td></tr></table></figure></p>
<h6 id="4-通配符"><a href="#4-通配符" class="headerlink" title="4. 通配符"></a>4. 通配符</h6><p>SQL语句中 <strong>LIKE</strong> 关键字和通配符一起使用，<br><code>_</code> :表示未指定的 一个字符<br><code>%</code>: 表示未指定的多个字符</p>
<p>查询电话号码前面为：43776的employee<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">name</span>,age <span class="keyword">from</span> employee <span class="keyword">where</span> phone <span class="keyword">LIKE</span> <span class="string">'43776__'</span>;</span><br></pre></td></tr></table></figure></p>
<p>查询以周姓开头的employee<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">name</span>,age <span class="keyword">from</span> employee <span class="keyword">where</span> <span class="keyword">name</span> <span class="keyword">LIKE</span> <span class="string">'周%'</span>;</span><br></pre></td></tr></table></figure></p>
<p>结果可能为： 周星，周星星，周建波</p>
<h6 id="5-对结果进行排序-DESC-降-ASC-升"><a href="#5-对结果进行排序-DESC-降-ASC-升" class="headerlink" title="5. 对结果进行排序 DESC(降) ASC(升)"></a>5. 对结果进行排序 DESC(降) ASC(升)</h6><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">name</span>,age,salary,phone <span class="keyword">from</span> employee <span class="keyword">ORDER</span> <span class="keyword">BY</span> salary <span class="keyword">DESC</span>;</span><br></pre></td></tr></table></figure>
<h6 id="6-sql内置函数和计算"><a href="#6-sql内置函数和计算" class="headerlink" title="6.sql内置函数和计算"></a>6.sql内置函数和计算</h6><p>sql允许对表中数据进行计算，有5个内置函数：</p>
<table>
<thead>
<tr>
<th>函数名：</th>
<th>COUNT</th>
<th>SUM</th>
<th>AVG</th>
<th>MAX</th>
<th>MIN</th>
</tr>
</thead>
<tbody>
<tr>
<td>作用：</td>
<td>计数</td>
<td>求和</td>
<td>平均值</td>
<td>最大值</td>
<td>最小值</td>
</tr>
</tbody>
</table>
<p>查询salary最大最小值：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">MAX</span>(salary) <span class="keyword">AS</span> zuigao_gongzi, <span class="keyword">MIN</span>(salary) <span class="keyword">from</span> employee;</span><br></pre></td></tr></table></figure></p>
<p><img src="https://dn-anything-about-doc.qbox.me/MySQL/sql-04-12.png/logoblackfont" alt=""></p>
<p><strong>AS</strong>关键字对最高工资进行命名</p>
<h6 id="7-子查询"><a href="#7-子查询" class="headerlink" title="7.子查询"></a>7.子查询</h6><p>想要知道名为”Tom”的员工所在部门做了几个工程。员工信息储存在employee表中，但工程信息储存在project表中</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> apt_name,<span class="keyword">COUNT</span>(proj_name) <span class="keyword">AS</span> count_project <span class="keyword">from</span> <span class="keyword">project</span></span><br><span class="line"><span class="keyword">WHERE</span> apt_name <span class="keyword">IN</span></span><br><span class="line">(<span class="keyword">SELECT</span> apt_name <span class="keyword">from</span> employee <span class="keyword">where</span> <span class="keyword">name</span>=<span class="string">'Tom'</span>);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>子查询还可以扩展到3层、4层或更多层。</p>
</blockquote>
<p><img src="https://dn-anything-about-doc.qbox.me/MySQL/sql-04-13.png/logoblackfont" alt=""></p>
<h6 id="8-连接查询"><a href="#8-连接查询" class="headerlink" title="8.连接查询"></a>8.连接查询</h6><p>在处理多个表时，子查询只有在结果来自一个表时才有用。但如果需要显示两个表或多个表中的数据，使用连接查询把多个表当做一个表使用。<br>各员工所在部门的人数，其中员工的id和name来自employee表，people_num来自department表：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">name</span>,people_num</span><br><span class="line"><span class="keyword">FROM</span> employee,department</span><br><span class="line"><span class="keyword">WHERE</span> employee.in_dpt= department.dpt_name</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="keyword">id</span></span><br></pre></td></tr></table></figure></p>
<h5 id="修改和删除"><a href="#修改和删除" class="headerlink" title="修改和删除"></a>修改和删除</h5><h6 id="删除数据库"><a href="#删除数据库" class="headerlink" title="删除数据库"></a>删除数据库</h6><p>DROP DATABASE test_01</p>
<h6 id="重命名一张表"><a href="#重命名一张表" class="headerlink" title="重命名一张表"></a>重命名一张表</h6><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">RENAME</span> <span class="keyword">TABLE</span> 原名 <span class="keyword">TO</span> 新名</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 原名 <span class="keyword">RENAME</span> 新名</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 原名 <span class="keyword">RENAME</span> <span class="keyword">TO</span> 新名</span><br></pre></td></tr></table></figure>
<p>这三种方式都可以</p>
<h6 id="删除一张表"><a href="#删除一张表" class="headerlink" title="删除一张表"></a>删除一张表</h6><p>DROP TABLE 表名;</p>
<h6 id="对一列的修改-既对表结构的修改"><a href="#对一列的修改-既对表结构的修改" class="headerlink" title="对一列的修改(既对表结构的修改)"></a>对一列的修改(既对表结构的修改)</h6><p>#######  1.增加一列<br>  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 表名字 <span class="keyword">ADD</span> <span class="keyword">COLUMN</span> 列名字 数据类型 约束;</span><br><span class="line"></span><br><span class="line">或： <span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 表名字 <span class="keyword">ADD</span> 列名字 数据类型 约束;</span><br></pre></td></tr></table></figure></p>
<p>ex:<br><code>ALTER TABLE employee ADD Height int(10) DEFAULT 170;</code></p>
<p>我们新增一列 weight (体重)放置在 age (年龄)的后面：<br>ex:<br>  <code>ALTER  TABLE employee ADD weight int(10) DEFAULT 120 AFTER age;</code></p>
<p><img src="https://dn-anything-about-doc.qbox.me/MySQL/sql-05-06.png/logoblackfont" alt=""></p>
<p>  新增加一列，放在第一位<br>  ex:<br>    <code>ALTER  TABLE employee ADD test int(10) DEFAULT  11 FIRST;</code></p>
<p>####### 2. 删除一列<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> employee <span class="keyword">DROP</span> <span class="keyword">test</span>;</span><br><span class="line"><span class="comment">--ALTER TABLE 表名字 DROP 列名字</span></span><br></pre></td></tr></table></figure></p>
<p>####### 3.重命名一列(对列的属性做修改)<br>修改数据类型必须小心，因为这可能会导致数据丢失。在尝试修改数据类型之前，请慎重考虑。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> employee <span class="keyword">CHANGE</span> age nianling <span class="built_in">int</span>(<span class="number">50</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>;</span><br><span class="line"><span class="comment">--ALTER TABLE 表名字 CHANGE 原列名 新列名 数据类型 约束;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：这条重命名语句后面的 “数据类型” 不能省略，否则重命名失败。<br>当原列名和新列名相同的时候，指定新的数据类型或约束，就可以用于修改数据类型或约束。需要注意的是，修改数据类型可能会导致数据丢失，所以要慎重使用。</p>
</blockquote>
<p>####### 4.改变数据类型<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> employee <span class="keyword">MODIFY</span> age <span class="built_in">char</span>(<span class="number">2</span>);</span><br><span class="line"><span class="comment">--ALTER TABLE 表名字 MODIFY 列名 新数据类型;</span></span><br></pre></td></tr></table></figure></p>
<h6 id="对表的内容进行修改"><a href="#对表的内容进行修改" class="headerlink" title="对表的内容进行修改"></a>对表的内容进行修改</h6><p>####### 修改表中的某个值<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> employee <span class="keyword">SET</span> age=<span class="number">21</span>, salary=<span class="number">3000</span> <span class="keyword">WHERE</span> <span class="keyword">name</span>=<span class="string">'TOM'</span>;</span><br><span class="line"><span class="comment">--UPDATE 表名 SET 列1='值1' 列2='值2' where 条件</span></span><br></pre></td></tr></table></figure></p>
<p>####### 删除一行记录<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> employee <span class="keyword">where</span> <span class="keyword">name</span> =<span class="string">'TOM'</span>;</span><br><span class="line"><span class="comment">--DELETE FROM 表名 WHERE 条件;</span></span><br></pre></td></tr></table></figure></p>
<h5 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h5><p>索引是一种与表有关结构，相当于书的目录，可以根据目录的页码快速找到所需内容。<br>当表中有大量内容，如果表中没有索引，进行全表搜索将记录全部取出，与查询条件对比，返回符合条件的记录。<strong>这样会消耗数据库的大量时间，造成大量磁盘IO操作。</strong></p>
<blockquote>
<p>如果表中以建立索引，在索引中查找符合条件的索引值，根据索引值快速找到表中数据，可大大加快查询速度</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> employee <span class="keyword">ADD</span> <span class="keyword">INDEX</span> idx_id (<span class="keyword">id</span>);</span><br><span class="line"><span class="comment">--ALTER TABLE 表名 ADD INDEX 索引名 (列名)；先写索引名，在写列名</span></span><br><span class="line"><span class="comment">--在employee表的id列上建立名为idx_id的索引</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">INDEX</span> idx_name <span class="keyword">ON</span> employee (<span class="keyword">name</span>);</span><br><span class="line"><span class="comment">--在employee表的name列建立名为idx_name的索引</span></span><br><span class="line"><span class="comment">--CREATE INDEX 索引名 ON 表名 (列名);</span></span><br></pre></td></tr></table></figure>
<p>索引的目的是加快查询的速度，当数据较少时候不会体现</p>
<ol>
<li><code>SHOW INDEX FROM 表名</code>   查看表中的索引</li>
<li>SELECT语句查询时，WHERE里面的条件会自动判断有没有可用的索引</li>
</ol>
<h6 id="视图"><a href="#视图" class="headerlink" title="视图"></a>视图</h6><p>视图是从一个表或者多个表导出来的表，是一个<strong>虚拟</strong>的表，它就像一个窗口，通过这个窗口可以看到系统专门提供的数据。这样，用户不用看到整个数据库中的数据，而只关心对自己有用的数据。</p>
<p>注意理解视图是一个虚拟的表：</p>
<ul>
<li>数据库中只存放了视图的定义，而没有存放视图中的数据，这些数据放在原来的表中</li>
<li>使用视图查询数据时，数据库系统会从原来的表中取出对应的数据</li>
<li>视图中的数据依赖于原来表中的数据，如果原来表中的数据发生改变，显示在视图中的数据也会发生改变</li>
<li>在使用视图时，可以把它当做一张表</li>
</ul>
<p>创建视图的语句格式为：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> 视图名(列a,列b,列c) <span class="keyword">AS</span> <span class="keyword">SELECT</span> 列<span class="number">1</span>,列<span class="number">2</span>,列<span class="number">3</span> <span class="keyword">FROM</span> 表名字;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>可见创建视图的语句，后半句是一个SELECT查询语句，所以视图也可以建立在多张表上，只需在SELECT语句中使用子查询或连接查询</p>
</blockquote>
<p><img src="https://dn-anything-about-doc.qbox.me/MySQL/sql-06-02.png/logoblackfont" alt=""></p>
<p>######导入和导出</p>
<p>导入操作，可以把一个文件里的数据保存进入一张表：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">LOAD</span> <span class="keyword">DATA</span> <span class="keyword">INFILE</span> <span class="string">'文件路径'</span> <span class="keyword">INTO</span> <span class="keyword">TABLE</span> 表名字;</span><br></pre></td></tr></table></figure></p>
<p>前提是文件中数据的格式要对：<br><img src="https://dn-anything-about-doc.qbox.me/MySQL/sql-06-03.png" alt=""></p>
<p>导出操作，是将一个数据库表中的数据保存到一个文件之中：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 列<span class="number">1</span>，列<span class="number">2</span> <span class="keyword">INTO</span> <span class="keyword">OUTFILE</span> <span class="string">'文件路径和文件名'</span> <span class="keyword">FROM</span>表名字;</span><br></pre></td></tr></table></figure></p>
<p>注意：语句中 “文件路径” 之下不能已经有同名文件。</p>
<p>现在我们把整个employee表的数据导出到 /tmp 目录下，导出文件命名为 out.txt 具体语句为：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">INTO</span> <span class="keyword">OUTFILE</span> <span class="string">'tmp/out.txt'</span> <span class="keyword">FROM</span> employee</span><br></pre></td></tr></table></figure></p>
<h6 id="备份"><a href="#备份" class="headerlink" title="备份"></a>备份</h6><p>数据库中的数据十分重要，注意使用备份功能</p>
<blockquote>
<p>备份与导出的区别：导出的文件只是保存数据库中的数据；而备份，则是把数据库的结构，包括数据、约束、索引、视图等全部另存为一个文件。</p>
</blockquote>
<p>mysqldump是MySQL用于备份数据库的实用程序。它主要产生一个SQL脚本文件，其中包含从头重新创建数据库所必需的命令CREATE TABLE INSERT等。</p>
<p>使用mysqldump备份的语句：<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -u root 数据库名 &gt; 备份文件名;</span><br><span class="line">--备份整个数据库</span><br><span class="line">mysqldump -u root 数据库名 表名字 &gt; 备份文件名;</span><br><span class="line">--备份整个表</span><br></pre></td></tr></table></figure></p>
<p>我们尝试备份整个数据库 mysql_shiyan，将备份文件命名为 bak.sql，先 Ctrl+Z 退出MySQL，再使用语句：<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -u root mysql_shiyan &gt; bak.sql</span><br></pre></td></tr></table></figure></p>
<h6 id="使用备份文件恢复数据库"><a href="#使用备份文件恢复数据库" class="headerlink" title="使用备份文件恢复数据库"></a>使用备份文件恢复数据库</h6> <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /tmp/SQL6/MySQL-06.sql</span><br></pre></td></tr></table></figure>
<p>这就是一条恢复语句，它把MySQL-06.sql文件中保存的mysql_shiyan数据库恢复。</p>
<p>另一种方式：<br>1.<code>CREATE DATABASE test;</code></p>
<ol>
<li>CTRL+Z退出mysql ,然后输入语句进行恢复，把刚才备份的 bak.sql 恢复到 test 数据库:<br><code>mysql -u root test &lt; bak.sql</code></li>
<li><code>mysql -u root
 use test
 show tables;</code></li>
</ol>
<p>结果：<br><img src="https://dn-anything-about-doc.qbox.me/MySQL/sql-06-08.png/logoblackfont" alt=""></p>
<h5 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h5><p><a href="http://dev.mysql.com/doc/refman/5.7/en/" target="_blank" rel="external">Mysql官方文档</a><br><a href="https://gist.github.com/wal139491/6030e3fb89db078cc5f43151500804e9" target="_blank" rel="external">完整的建表语句</a><br><a href="http://www.runoob.com/mysql/mysql-connection.html" target="_blank" rel="external">Mysql菜鸟教程</a></p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://yoursite.com/2016/08/20/Mysql数据库基础/" data-id="cj16jpe7g000d3kb0cbqtc0os" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://yoursite.com/2016/08/20/Mysql数据库基础/#comments" class="article-comment-link ds-thread-count" data-thread-key="http://yoursite.com/2016/08/20/Mysql数据库基础/">评论</a>
    

        </footer>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/2016/08/20/数据库概论基础知识—-1/" id="article-nav-newer" class="article-nav-link-wrap">
            <strong class="article-nav-caption">上一篇</strong>
            <div class="article-nav-title">
                
                    数据库概论基础知识—-1
                
            </div>
        </a>
    
    
        <a href="/2016/08/20/Mysql数据类型/" id="article-nav-older" class="article-nav-link-wrap">
            <strong class="article-nav-caption">下一篇</strong>
            <div class="article-nav-title">Mysql等数据类型的使用</div>
        </a>
    
</nav>


    
</article>


    
    <section id="comments">
    
        
    <div class="ds-thread" data-thread-key="2016/08/20/Mysql数据库基础/" data-title="Mysql数据库基础" data-url="http://yoursite.com/2016/08/20/Mysql数据库基础/"></div>
    <style>
        #ds-thread #ds-reset .ds-textarea-wrapper {
            background: none;
        }
        #ds-reset .ds-avatar img {
            box-shadow: none;
        }
        #ds-reset .ds-gradient-bg {
            background: #f7f7f7;
        }
        #ds-thread #ds-reset li.ds-tab a {
            border-radius: 3px;
        }
        #ds-thread #ds-reset .ds-post-button {
            color: white;
            border: none;
            box-shadow: none;
            background: #d32;
            text-shadow: none;
            font-weight: normal;
            font-family: 'Microsoft Yahei';
        }
        #ds-thread #ds-reset .ds-post-button:hover {
            color: white;
            background: #DE594C;
        }
        #ds-thread #ds-reset .ds-post-button:active {
            background: #d32;
        }
        #ds-smilies-tooltip ul.ds-smilies-tabs li a.ds-current {
            color: white;
            background: #d32;
            box-shadow: none;
            text-shadow: none;
            font-weight: normal;
        }
    </style>

    
    </section>

</section>
            
                <aside id="sidebar">
   
        
    <div class="widget-wrap">
        <h3 class="widget-title">最新文章</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/04/06/sklearn-预测Titanics乘客生还率/" class="thumbnail">
    
    
        <span style="background-image:url(http://o9pxg8pv5.bkt.clouddn.com/titanic_head.png)" alt="sklearn 预测Titanics乘客生还率" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/数据分析/">数据分析</a></p>
                            <p class="item-title"><a href="/2017/04/06/sklearn-预测Titanics乘客生还率/" class="title">sklearn 预测Titanics乘客生还率</a></p>
                            <p class="item-date"><time datetime="2017-04-06T13:49:36.910Z" itemprop="datePublished">2017-04-06</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/04/06/使用python和plotly可视化mysql数据库/" class="thumbnail">
    
    
        <span style="background-image:url(http://o9pxg8pv5.bkt.clouddn.com/plotly1.png)" alt="使用python和plotly分析可视化mysql数据库" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Python数据分析/">Python数据分析</a></p>
                            <p class="item-title"><a href="/2017/04/06/使用python和plotly可视化mysql数据库/" class="title">使用python和plotly分析可视化mysql数据库</a></p>
                            <p class="item-date"><time datetime="2017-04-06T07:28:33.065Z" itemprop="datePublished">2017-04-06</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2016/12/13/mathjax的使用/" class="thumbnail">
    
    
        <span style="background-image:url(http://img.hb.aicdn.com/d79e605eeeafd49f7a0809e6fe685f5fce78f3a6260c9-I5x4D0_fw658)" alt="mathjax的使用" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/hexo/">hexo</a></p>
                            <p class="item-title"><a href="/2016/12/13/mathjax的使用/" class="title">mathjax的使用</a></p>
                            <p class="item-date"><time datetime="2016-12-13T12:03:11.973Z" itemprop="datePublished">2016-12-13</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2016/10/11/Python开发3(控制语句和文件操作)/" class="thumbnail">
    
    
        <span style="background-image:url(http://img.hb.aicdn.com/caa47fa9beba2011138b444e7a1adf59996cadc9b825-Kf2Aum_fw658)" alt="Python开发3(控制语句和文件操作)" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/python/">python</a></p>
                            <p class="item-title"><a href="/2016/10/11/Python开发3(控制语句和文件操作)/" class="title">Python开发3(控制语句和文件操作)</a></p>
                            <p class="item-date"><time datetime="2016-10-11T01:06:30.797Z" itemprop="datePublished">2016-10-11</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2016/10/01/python网络采集1/" class="thumbnail">
    
    
        <span style="background-image:url(http://img.hb.aicdn.com/bc0acb2f96d7314b03e5d59527587275e362a75c128f8-sD64Th_fw658)" alt="python网络数据采集1" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/python/">python</a></p>
                            <p class="item-title"><a href="/2016/10/01/python网络采集1/" class="title">python网络数据采集1</a></p>
                            <p class="item-date"><time datetime="2016-10-01T07:17:31.137Z" itemprop="datePublished">2016-10-01</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">虾米播播</h3>
        <div class="widget tagcloud">
           <ul>
           <h5>
           <embed src="https://www.xiami.com/widget/160864150_188998912_200_280_4DB653_009609_0/collectPlayer.swf" type="application/x-shockwave-flash" width="200" height="280" wmode="opaque"></embed>
           </h5>
           </ul>
        </div>
    </div>


    
        
    <div class="widget-wrap">
        <h3 class="widget-title">分类</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux学习/">Linux学习</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python数据分析/">Python数据分析</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据分析/">数据分析</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据库概论/">数据库概论</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/读书和生活/">读书和生活</a><span class="category-list-count">1</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">归档</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">四月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">十二月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">十月 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">九月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">七月 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">六月 2016</a><span class="archive-list-count">1</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">标签</h3>
        <div class="widget">
            <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android优化/">Android优化</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python基础/">python基础</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python网络数据采集/">python网络数据采集</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/something/">something</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据分析/">数据分析</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/正则表达式/">正则表达式</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/生活/">生活</a><span class="tag-list-count">1</span></li></ul>
        </div>
    </div>

    
        <div class="widget tag">
<h3 class="title">友情链接</h3>
<ul class="entry">
<li><a href="https://www.google.ae/" title="google">Google</a></li>
<li><a href="http://www.jianshu.com/users/de17c721f02a/latest_articles" title="jianshu">简书</a></li>
<li><a href="https://blog.jamespan.me/" title="James Pan's Blog">James Pan's Blog </a></li>
<li><a href="http://ibruce.info/" title="icruce">不如</a></li>
<li><a href="http://rocko.xyz/2016/06/14/ADB-Issue-2/" title="rocko">Rocko</a></li>


</ul>
</div>

    
    <div id="toTop" class="fa fa-angle-up"></div>
</aside>
            
        </div>
        <script type="text/x-mathjax-config">
    MathJax.Hub.Config({"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"], linebreaks: { automatic:true }, EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50) },
        tex2jax: { inlineMath: [ ["$", "$"], ["\\(","\\)"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno",skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']},
        TeX: {  noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "120%" } }, Macros: { href: "{}" } },
        messageStyle: "none"
    });
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


<footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            &copy; 2017 laiwei<br>
            Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
            &nbsp&nbsp&nbsp&nbsp
            <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
             </script>
            <span id="busuanzi_container_site_pv" >本站有<span id="busuanzi_value_site_pv" style="color:#ef7522"></span>个小伙伴留下脚印</span>

        </div>
    </div>
</footer>


        
    
    <script type="text/javascript">
    var duoshuoQuery = {short_name:'walsky'};
    (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
    || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
    </script>



    
        <script src="/vendor/fancybox/jquery.fancybox.pack.js"></script>
    


<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>